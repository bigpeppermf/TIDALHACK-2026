# Figma-to-Code Reference

> Guidelines for translating Figma designs into Vue 3 + Tailwind CSS components.

---

## 1. Design System Mapping

| Figma Concept | Code Equivalent |
|---|---|
| Auto Layout | Flexbox (`flex`, `gap-*`, `items-*`, `justify-*`) |
| Frame padding | Tailwind padding (`p-*`, `px-*`, `py-*`) |
| Corner radius | `rounded-*` |
| Drop shadow | `shadow-*` |
| Fill color | `bg-*` or CSS custom properties |
| Stroke | `border-*` |
| Text styles | Tailwind typography (`text-*`, `font-*`, `leading-*`) |
| Component variants | Props + `class-variance-authority` (CVA) |
| Icons | `lucide-vue-next` icon components |

---

## 2. Component Architecture

### shadcn-vue (reka-ui based)

All primitive UI components live in `frontend/src/components/ui/`. These are generated by shadcn-vue and should not be modified directly. They include:

- Button, Input, Label, Card, Dialog, Dropdown, Select, etc.
- Built on `reka-ui` headless components.
- Styled with Tailwind + CVA for variants.

### Custom Components

- Placed in feature folders: `convert/`, `dashboard/`, `landing/`, `layout/`.
- Use `<script setup lang="ts">` with Composition API.
- Props typed via `defineProps<{ ... }>()`.
- Emit events via `defineEmits<{ ... }>()`.

---

## 3. Styling Rules

1. **Tailwind v4**: No `tailwind.config` file. Configuration is done via CSS `@theme` in `main.css`. Uses `@tailwindcss/vite` plugin.
2. **Dark mode**: Uses CSS class strategy.
3. **Colors**: Use semantic CSS variables (e.g. `--background`, `--foreground`, `--primary`).
4. **`cn()` helper**: Merge classes with `clsx` + `tailwind-merge` via `lib/utils.ts`.
5. **Animations**: Use `motion-v` for enter/exit transitions, `tw-animate-css` for utility animations.
6. **Responsive**: Mobile-first breakpoints (`sm:`, `md:`, `lg:`).

---

## 4. Key Libraries

| Library | Purpose | Notes |
|---|---|---|
| `vue-codemirror` | LaTeX code editor | Replaces plain `<textarea>` |
| `pdfjs-dist` | PDF rendering in `<canvas>` | Worker loaded from `public/pdf.worker.mjs` |
| `katex` | LaTeX math rendering | CSS imported in `main.ts` |
| `motion-v` | Animation library | Vue-specific motion |
| `pinia` | State management | Used for global stores |
| `@clerk/vue` | Authentication UI | `<SignInButton>`, `<UserButton>`, etc. |

---

## 5. Translation Workflow

1. **Inspect Figma frame**: Note layout direction, spacing, padding, colors.
2. **Map to Tailwind**: Convert px values to Tailwind spacing scale (4px = 1 unit).
3. **Check for existing shadcn component**: Reuse `ui/` primitives before creating custom.
4. **Create component**: `<script setup>` + `<template>` + scoped styles if needed.
5. **Wire composable**: Connect to `useConvert`, `useExport`, or `useProjects` as needed.
6. **Test**: Visual check + unit test with `@vue/test-utils`.

---

## 6. Common Patterns

### Conditional rendering based on auth

```vue
<SignedIn>
  <DashboardContent />
</SignedIn>
<SignedOut>
  <SignInButton />
</SignedOut>
```

### Reactive composable usage

```vue
<script setup lang="ts">
const { loading, error, result, convert } = useConvert()
</script>
```

### Router navigation

```vue
<script setup lang="ts">
const router = useRouter()
function openEditor(id: string) {
  router.push({ path: '/editor', query: { id } })
}
</script>
```

---

## 7. File Naming

- Vue SFC: `PascalCase.vue` (e.g. `ProjectRow.vue`).
- Composables: `camelCase.ts` with `use` prefix (e.g. `useProjects.ts`).
- Types: `camelCase.ts` (e.g. `project.ts`).
- Tests: `ComponentName.spec.ts` or `__tests__/` folder.
